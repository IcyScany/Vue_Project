import{d as k,_ as u,o as n,c as _,a as e,t as c,u as d,F as g,r as h,p as m,b,e as y,f as $}from"./index.d6b1f90f.js";const v=k("cart",{state:()=>({mygoods:[]}),actions:{add_good(o,s){let i=this.mygoods.findIndex(a=>a.good.id==o.id);if(i>-1){let a=this.mygoods[i].number+=s;this.mygoods[i].number=a||this.mygoods.splice(i,1)}else this.mygoods.push({good:o,number:s})},clear_goods(){this.mygoods=[]}},getters:{total_price(o){let s=0;for(let i of o.mygoods)s+=i.good.price*i.number;return s}}});const S=o=>(m("data-v-b8a697b1"),o=o(),b(),o),C={class:"goods_list"},x=S(()=>e("div",{class:"label"},"cart-list",-1)),I={class:"good"},j=["src"],B={class:"good_info"},w=["onClick"],q=["onClick"],F={__name:"ShopCart",setup(o){let s=v(),i="http://43.139.171.246:80";return(a,l)=>(n(),_("div",C,[x,e("div",null,"total price: "+c(d(s).total_price),1),e("button",{class:"label",onClick:l[0]||(l[0]=t=>d(s).clear_goods())},"\u6E05\u7A7A\u8D2D\u7269\u8F66"),(n(!0),_(g,null,h(d(s).mygoods,(t,r)=>(n(),_("div",I,[e("img",{class:"good_img",src:d(i)+t.good.images,alt:""},null,8,j),e("div",B,[e("div",null,c(t.good.id)+". "+c(t.good.name),1),e("div",null,"\u5355\u4EF7\uFF1A"+c(t.good.price),1),e("button",{onClick:p=>d(s).add_good(t.good,-1)},"-",8,w),e("div",null,"\u6570\u91CF\uFF1A"+c(t.number),1),e("button",{onClick:p=>d(s).add_good(t.good,1)},"+",8,q)])]))),256))]))}},N=u(F,[["__scopeId","data-v-b8a697b1"]]);const f=o=>(m("data-v-654ff4f7"),o=o(),b(),o),V=f(()=>e("div",{class:"label"},"shop-page",-1)),D={class:"shop"},E={class:"goods_list"},L=f(()=>e("div",{class:"label"},"shop-list",-1)),Q={class:"good"},z=["src"],A={class:"good_info"},G=["onClick"],H={__name:"shop",setup(o){let s="http://43.139.171.246:80",i=v();const a=y([{id:1001,name:"baked_rice",price:13,describe:"delicious baked_rice\uFF01",images:"/img/baked_rice.jpg"},{id:1002,name:"bbq",price:20,describe:"delicious BBQ\uFF01",images:"/img/bbq.jpg"},{id:1003,name:"bread",price:7,describe:"delicious bread\uFF01",images:"/img/bread.jpg"},{id:1004,name:"chicken",price:38,describe:"delicious chicken\uFF01",images:"/img/chicken.jpg"},{id:1005,name:"french fries",price:14,describe:"delicious french fries\uFF01",images:"/img/french_fries.jpg"},{id:1006,name:"ice-cream",price:8,describe:"delicious ice-cream\uFF01",images:"/img/ice-cream.jpg"}]);return(l,t)=>(n(),_(g,null,[V,e("div",D,[e("div",E,[L,(n(!0),_(g,null,h(a,(r,p)=>(n(),_("div",Q,[e("img",{class:"good_img",src:d(s)+r.images,alt:""},null,8,z),e("div",A,[e("div",null,c(r.id)+". "+c(r.name),1),e("div",null,"\uFFE5\uFF1A"+c(r.price),1),e("button",{onClick:J=>d(i).add_good(r,1)},"\u52A0\u5165\u8D2D\u7269\u8F66",8,G)])]))),256))]),$(N)])],64))}},M=u(H,[["__scopeId","data-v-654ff4f7"]]);export{M as default};
